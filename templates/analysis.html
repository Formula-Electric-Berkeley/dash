{%extends "base.html" %}
{%block content%}

<div class="w-full flex justify-center">
    <div class="w-9/12 max-w-4xl">
        <div class="text-center">
            <select class="text-black w-1/4 mr-2 px-2 py-1 rounded-lg border-none outline-none"
                onchange="updateSelect('device', 'devices')" name="source" id="source">
                <option value="" selected>Select data source</option>
            </select>
            <select class="text-black w-1/4 mx-2 px-2 py-1 rounded-lg border-none outline-none"
                onchange="updateSelect('parameter', 'parameters')" name="device" id="device">
                <option value="" selected>Select device</option>
            </select>
            <select class="text-black w-1/4 mx-2 px-2 py-1 rounded-lg border-none outline-none" name="parameter"
                id="parameter">
                <option value="" selected>Select parameter</option>
            </select>
            <button onclick="addSource()"
                class="ml-2 px-10 py-1 text-lg bg-yellow hover-shadow-yellow rounded-full text-black font-bold cursor-pointer">ADD
                <i class="fa-solid fa-circle-plus ml-1 upload-icon"></i></button>
        </div>
        <div class="mt-10" id="graph"></div>
    </div>
</div>

<script>
    all_run_data_json = JSON.parse("{{ data_headers_json }}".replaceAll("&#39;", "\"").replace(/ObjectId\("([^"]+)"\)/g, "\"$1\""))
</script>

<script src="{{url_for('static', filename='js/analysis.js')}}"></script>

{% endblock %}
